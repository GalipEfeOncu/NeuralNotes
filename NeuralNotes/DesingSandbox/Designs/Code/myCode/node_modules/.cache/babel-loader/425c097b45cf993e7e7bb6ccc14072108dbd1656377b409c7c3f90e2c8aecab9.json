{"ast":null,"code":"var _jsxFileName = \"D:\\\\projects\\\\neuralnotes\\\\src\\\\components\\\\BlockEditor.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef, useEffect } from 'react';\nimport { useTheme } from '../contexts/ThemeContext';\n\n// Block types\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst BLOCK_TYPES = {\n  TEXT: 'text',\n  HEADING_1: 'heading_1',\n  HEADING_2: 'heading_2',\n  HEADING_3: 'heading_3',\n  BULLETED_LIST: 'bulleted_list',\n  NUMBERED_LIST: 'numbered_list',\n  TO_DO: 'to_do',\n  QUOTE: 'quote',\n  CODE: 'code',\n  DIVIDER: 'divider'\n};\n\n// Default block\nconst createDefaultBlock = (type = BLOCK_TYPES.TEXT, content = '') => ({\n  id: Date.now().toString(),\n  type,\n  content,\n  checked: false // For to-do blocks\n});\nconst BlockEditor = ({\n  initialBlocks = [],\n  onChange\n}) => {\n  _s();\n  var _blocks$;\n  const {\n    darkMode\n  } = useTheme();\n  const [blocks, setBlocks] = useState(() => {\n    return initialBlocks.length > 0 ? initialBlocks : [createDefaultBlock()];\n  });\n  const [activeBlockId, setActiveBlockId] = useState((_blocks$ = blocks[0]) === null || _blocks$ === void 0 ? void 0 : _blocks$.id);\n  const [showBlockMenu, setShowBlockMenu] = useState(false);\n  const [blockMenuPosition, setBlockMenuPosition] = useState({\n    top: 0,\n    left: 0\n  });\n  const [blockMenuTargetId, setBlockMenuTargetId] = useState(null);\n  const blockRefs = useRef({});\n  const blockMenuRef = useRef(null);\n\n  // Update parent component when blocks change\n  useEffect(() => {\n    if (onChange) {\n      onChange(blocks);\n    }\n  }, [blocks, onChange]);\n\n  // Close block menu when clicking outside\n  useEffect(() => {\n    const handleClickOutside = event => {\n      if (blockMenuRef.current && !blockMenuRef.current.contains(event.target)) {\n        setShowBlockMenu(false);\n      }\n    };\n    document.addEventListener('mousedown', handleClickOutside);\n    return () => document.removeEventListener('mousedown', handleClickOutside);\n  }, []);\n\n  // Handle block content change\n  const handleBlockChange = (id, content) => {\n    setBlocks(blocks.map(block => block.id === id ? {\n      ...block,\n      content\n    } : block));\n  };\n\n  // Handle block type change\n  const handleBlockTypeChange = (id, type) => {\n    setBlocks(blocks.map(block => block.id === id ? {\n      ...block,\n      type\n    } : block));\n    setShowBlockMenu(false);\n  };\n\n  // Handle to-do block checkbox toggle\n  const handleCheckboxToggle = id => {\n    setBlocks(blocks.map(block => block.id === id ? {\n      ...block,\n      checked: !block.checked\n    } : block));\n  };\n\n  // Add a new block after the current one\n  const addBlockAfter = id => {\n    const index = blocks.findIndex(block => block.id === id);\n    if (index === -1) return;\n    const newBlock = createDefaultBlock();\n    const newBlocks = [...blocks];\n    newBlocks.splice(index + 1, 0, newBlock);\n    setBlocks(newBlocks);\n    setActiveBlockId(newBlock.id);\n\n    // Focus on the new block after render\n    setTimeout(() => {\n      if (blockRefs.current[newBlock.id]) {\n        blockRefs.current[newBlock.id].focus();\n      }\n    }, 0);\n  };\n\n  // Delete a block\n  const deleteBlock = id => {\n    var _newBlocks, _newBlocks$;\n    // Don't delete if it's the only block\n    if (blocks.length <= 1) {\n      setBlocks([createDefaultBlock()]);\n      return;\n    }\n    const index = blocks.findIndex(block => block.id === id);\n    if (index === -1) return;\n    const newBlocks = blocks.filter(block => block.id !== id);\n    setBlocks(newBlocks);\n\n    // Set focus to previous block or next block if deleting first block\n    const newActiveId = ((_newBlocks = newBlocks[index - 1]) === null || _newBlocks === void 0 ? void 0 : _newBlocks.id) || ((_newBlocks$ = newBlocks[0]) === null || _newBlocks$ === void 0 ? void 0 : _newBlocks$.id);\n    setActiveBlockId(newActiveId);\n\n    // Focus on the new active block after render\n    setTimeout(() => {\n      if (blockRefs.current[newActiveId]) {\n        blockRefs.current[newActiveId].focus();\n      }\n    }, 0);\n  };\n\n  // Handle key press in block\n  const handleKeyDown = (e, id, index) => {\n    // Enter to create new block\n    if (e.key === 'Enter' && !e.shiftKey) {\n      e.preventDefault();\n      addBlockAfter(id);\n    }\n\n    // Backspace at beginning to delete block or convert to text\n    if (e.key === 'Backspace' && e.target.selectionStart === 0 && e.target.selectionEnd === 0) {\n      const block = blocks.find(b => b.id === id);\n\n      // If block has content, convert to text block\n      if (block.type !== BLOCK_TYPES.TEXT && block.content.trim().length > 0) {\n        handleBlockTypeChange(id, BLOCK_TYPES.TEXT);\n        return;\n      }\n\n      // If empty, delete the block\n      if (block.content.trim().length === 0) {\n        e.preventDefault();\n        deleteBlock(id);\n      }\n    }\n\n    // Slash command to show block menu\n    if (e.key === '/' && e.target.selectionStart === 0) {\n      e.preventDefault();\n      const rect = e.target.getBoundingClientRect();\n      setBlockMenuPosition({\n        top: rect.bottom + window.scrollY,\n        left: rect.left + window.scrollX\n      });\n      setBlockMenuTargetId(id);\n      setShowBlockMenu(true);\n    }\n\n    // Arrow up to go to previous block\n    if (e.key === 'ArrowUp' && e.target.selectionStart === 0) {\n      e.preventDefault();\n      const prevBlock = blocks[index - 1];\n      if (prevBlock) {\n        setActiveBlockId(prevBlock.id);\n        setTimeout(() => {\n          if (blockRefs.current[prevBlock.id]) {\n            blockRefs.current[prevBlock.id].focus();\n            // Move cursor to end of previous block\n            const length = blockRefs.current[prevBlock.id].value.length;\n            blockRefs.current[prevBlock.id].setSelectionRange(length, length);\n          }\n        }, 0);\n      }\n    }\n\n    // Arrow down to go to next block\n    if (e.key === 'ArrowDown' && e.target.selectionStart === e.target.value.length) {\n      e.preventDefault();\n      const nextBlock = blocks[index + 1];\n      if (nextBlock) {\n        setActiveBlockId(nextBlock.id);\n        setTimeout(() => {\n          if (blockRefs.current[nextBlock.id]) {\n            blockRefs.current[nextBlock.id].focus();\n            // Move cursor to beginning of next block\n            blockRefs.current[nextBlock.id].setSelectionRange(0, 0);\n          }\n        }, 0);\n      }\n    }\n  };\n\n  // Render block based on type\n  const renderBlock = (block, index) => {\n    const isActive = block.id === activeBlockId;\n\n    // Common props for all block inputs\n    const commonProps = {\n      ref: el => blockRefs.current[block.id] = el,\n      value: block.content,\n      onChange: e => handleBlockChange(block.id, e.target.value),\n      onKeyDown: e => handleKeyDown(e, block.id, index),\n      onFocus: () => setActiveBlockId(block.id),\n      className: `w-full outline-none resize-none overflow-hidden ${darkMode ? 'bg-transparent text-gray-200' : 'bg-transparent text-gray-800'} ${isActive ? 'ring-1 ring-yellow-500 ring-opacity-50' : ''}`,\n      placeholder: 'Type / for commands...'\n    };\n\n    // Add plus button for adding new blocks\n    const plusButton = isActive && /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => {\n        const rect = blockRefs.current[block.id].getBoundingClientRect();\n        setBlockMenuPosition({\n          top: rect.top + window.scrollY,\n          left: rect.left - 30 + window.scrollX\n        });\n        setBlockMenuTargetId(block.id);\n        setShowBlockMenu(true);\n      },\n      className: `absolute -left-8 top-1/2 transform -translate-y-1/2 opacity-0 group-hover:opacity-100 transition-opacity ${darkMode ? 'text-gray-400 hover:text-gray-200' : 'text-gray-500 hover:text-gray-700'}`,\n      children: /*#__PURE__*/_jsxDEV(\"svg\", {\n        xmlns: \"http://www.w3.org/2000/svg\",\n        className: \"h-5 w-5\",\n        viewBox: \"0 0 20 20\",\n        fill: \"currentColor\",\n        children: /*#__PURE__*/_jsxDEV(\"path\", {\n          fillRule: \"evenodd\",\n          d: \"M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z\",\n          clipRule: \"evenodd\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 233,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 232,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 218,\n      columnNumber: 7\n    }, this);\n\n    // Render different block types\n    switch (block.type) {\n      case BLOCK_TYPES.HEADING_1:\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"relative group py-1\",\n          children: [plusButton, /*#__PURE__*/_jsxDEV(\"textarea\", {\n            ...commonProps,\n            rows: 1,\n            className: `${commonProps.className} text-3xl font-bold`,\n            placeholder: \"Heading 1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 244,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 242,\n          columnNumber: 11\n        }, this);\n      case BLOCK_TYPES.HEADING_2:\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"relative group py-1\",\n          children: [plusButton, /*#__PURE__*/_jsxDEV(\"textarea\", {\n            ...commonProps,\n            rows: 1,\n            className: `${commonProps.className} text-2xl font-bold`,\n            placeholder: \"Heading 2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 257,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 255,\n          columnNumber: 11\n        }, this);\n      case BLOCK_TYPES.HEADING_3:\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"relative group py-1\",\n          children: [plusButton, /*#__PURE__*/_jsxDEV(\"textarea\", {\n            ...commonProps,\n            rows: 1,\n            className: `${commonProps.className} text-xl font-bold`,\n            placeholder: \"Heading 3\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 270,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 268,\n          columnNumber: 11\n        }, this);\n      case BLOCK_TYPES.BULLETED_LIST:\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"relative group py-1 flex\",\n          children: [plusButton, /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex-shrink-0 mr-2 mt-1\",\n            children: \"\\u2022\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 283,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n            ...commonProps,\n            rows: 1,\n            placeholder: \"List item\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 284,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 281,\n          columnNumber: 11\n        }, this);\n      case BLOCK_TYPES.NUMBERED_LIST:\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"relative group py-1 flex\",\n          children: [plusButton, /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex-shrink-0 mr-2 mt-1\",\n            children: [index + 1, \".\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 296,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n            ...commonProps,\n            rows: 1,\n            placeholder: \"List item\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 297,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 294,\n          columnNumber: 11\n        }, this);\n      case BLOCK_TYPES.TO_DO:\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"relative group py-1 flex items-start\",\n          children: [plusButton, /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex-shrink-0 mr-2 mt-1\",\n            children: /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"checkbox\",\n              checked: block.checked,\n              onChange: () => handleCheckboxToggle(block.id),\n              className: \"rounded\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 310,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 309,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n            ...commonProps,\n            rows: 1,\n            className: `${commonProps.className} ${block.checked ? 'line-through opacity-50' : ''}`,\n            placeholder: \"To-do item\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 317,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 307,\n          columnNumber: 11\n        }, this);\n      case BLOCK_TYPES.QUOTE:\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"relative group py-1\",\n          children: [plusButton, /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `border-l-4 ${darkMode ? 'border-gray-600' : 'border-gray-300'} pl-3`,\n            children: /*#__PURE__*/_jsxDEV(\"textarea\", {\n              ...commonProps,\n              rows: 1,\n              className: `${commonProps.className} italic`,\n              placeholder: \"Quote\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 331,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 330,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 328,\n          columnNumber: 11\n        }, this);\n      case BLOCK_TYPES.CODE:\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"relative group py-1\",\n          children: [plusButton, /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `${darkMode ? 'bg-gray-800' : 'bg-gray-100'} p-3 rounded-md font-mono`,\n            children: /*#__PURE__*/_jsxDEV(\"textarea\", {\n              ...commonProps,\n              rows: 3,\n              placeholder: \"Code block\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 346,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 345,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 343,\n          columnNumber: 11\n        }, this);\n      case BLOCK_TYPES.DIVIDER:\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"relative group py-4\",\n          children: [plusButton, /*#__PURE__*/_jsxDEV(\"hr\", {\n            className: darkMode ? 'border-gray-700' : 'border-gray-300'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 359,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 357,\n          columnNumber: 11\n        }, this);\n      case BLOCK_TYPES.TEXT:\n      default:\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"relative group py-1\",\n          children: [plusButton, /*#__PURE__*/_jsxDEV(\"textarea\", {\n            ...commonProps,\n            rows: 1,\n            placeholder: \"Type / for commands...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 368,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 366,\n          columnNumber: 11\n        }, this);\n    }\n  };\n\n  // Block menu for selecting block types\n  const blockMenu = /*#__PURE__*/_jsxDEV(\"div\", {\n    ref: blockMenuRef,\n    className: `absolute z-50 w-64 rounded-md shadow-lg ${darkMode ? 'bg-gray-800 border border-gray-700' : 'bg-white border border-gray-200'}`,\n    style: {\n      top: blockMenuPosition.top,\n      left: blockMenuPosition.left\n    },\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"p-2\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: `text-sm font-medium mb-1 ${darkMode ? 'text-gray-400' : 'text-gray-500'}`,\n        children: \"Basic blocks\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 388,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-2 gap-1\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => handleBlockTypeChange(blockMenuTargetId, BLOCK_TYPES.TEXT),\n          className: `flex items-center p-2 rounded-md text-left ${darkMode ? 'hover:bg-gray-700' : 'hover:bg-gray-100'}`,\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"mr-2\",\n            children: \"\\uD83D\\uDCDD\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 398,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Text\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 399,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 392,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => handleBlockTypeChange(blockMenuTargetId, BLOCK_TYPES.HEADING_1),\n          className: `flex items-center p-2 rounded-md text-left ${darkMode ? 'hover:bg-gray-700' : 'hover:bg-gray-100'}`,\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"mr-2\",\n            children: \"H1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 407,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Heading 1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 408,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 401,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => handleBlockTypeChange(blockMenuTargetId, BLOCK_TYPES.HEADING_2),\n          className: `flex items-center p-2 rounded-md text-left ${darkMode ? 'hover:bg-gray-700' : 'hover:bg-gray-100'}`,\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"mr-2\",\n            children: \"H2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 416,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Heading 2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 417,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 410,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => handleBlockTypeChange(blockMenuTargetId, BLOCK_TYPES.HEADING_3),\n          className: `flex items-center p-2 rounded-md text-left ${darkMode ? 'hover:bg-gray-700' : 'hover:bg-gray-100'}`,\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"mr-2\",\n            children: \"H3\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 425,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Heading 3\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 426,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 419,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 391,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `text-sm font-medium mt-3 mb-1 ${darkMode ? 'text-gray-400' : 'text-gray-500'}`,\n        children: \"Lists\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 430,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-2 gap-1\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => handleBlockTypeChange(blockMenuTargetId, BLOCK_TYPES.BULLETED_LIST),\n          className: `flex items-center p-2 rounded-md text-left ${darkMode ? 'hover:bg-gray-700' : 'hover:bg-gray-100'}`,\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"mr-2\",\n            children: \"\\u2022\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 440,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Bullet List\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 441,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 434,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => handleBlockTypeChange(blockMenuTargetId, BLOCK_TYPES.NUMBERED_LIST),\n          className: `flex items-center p-2 rounded-md text-left ${darkMode ? 'hover:bg-gray-700' : 'hover:bg-gray-100'}`,\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"mr-2\",\n            children: \"1.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 449,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Numbered List\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 450,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 443,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => handleBlockTypeChange(blockMenuTargetId, BLOCK_TYPES.TO_DO),\n          className: `flex items-center p-2 rounded-md text-left ${darkMode ? 'hover:bg-gray-700' : 'hover:bg-gray-100'}`,\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"mr-2\",\n            children: \"\\u2611\\uFE0F\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 458,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"To-do List\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 459,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 452,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 433,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `text-sm font-medium mt-3 mb-1 ${darkMode ? 'text-gray-400' : 'text-gray-500'}`,\n        children: \"Other\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 463,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-2 gap-1\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => handleBlockTypeChange(blockMenuTargetId, BLOCK_TYPES.QUOTE),\n          className: `flex items-center p-2 rounded-md text-left ${darkMode ? 'hover:bg-gray-700' : 'hover:bg-gray-100'}`,\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"mr-2\",\n            children: \"\\u275D\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 473,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Quote\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 474,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 467,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => handleBlockTypeChange(blockMenuTargetId, BLOCK_TYPES.CODE),\n          className: `flex items-center p-2 rounded-md text-left ${darkMode ? 'hover:bg-gray-700' : 'hover:bg-gray-100'}`,\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"mr-2\",\n            children: \"</>\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 482,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Code\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 483,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 476,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => handleBlockTypeChange(blockMenuTargetId, BLOCK_TYPES.DIVIDER),\n          className: `flex items-center p-2 rounded-md text-left ${darkMode ? 'hover:bg-gray-700' : 'hover:bg-gray-100'}`,\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"mr-2\",\n            children: \"\\u2014\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 491,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Divider\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 492,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 485,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 466,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 387,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 380,\n    columnNumber: 5\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"w-full\",\n    children: [blocks.map((block, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-1\",\n      children: renderBlock(block, index)\n    }, block.id, false, {\n      fileName: _jsxFileName,\n      lineNumber: 502,\n      columnNumber: 9\n    }, this)), showBlockMenu && blockMenu]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 500,\n    columnNumber: 5\n  }, this);\n};\n_s(BlockEditor, \"DXGMVP8nv5JPlJjPrfUYkjFj58g=\", false, function () {\n  return [useTheme];\n});\n_c = BlockEditor;\nexport default BlockEditor;\nvar _c;\n$RefreshReg$(_c, \"BlockEditor\");","map":{"version":3,"names":["React","useState","useRef","useEffect","useTheme","jsxDEV","_jsxDEV","BLOCK_TYPES","TEXT","HEADING_1","HEADING_2","HEADING_3","BULLETED_LIST","NUMBERED_LIST","TO_DO","QUOTE","CODE","DIVIDER","createDefaultBlock","type","content","id","Date","now","toString","checked","BlockEditor","initialBlocks","onChange","_s","_blocks$","darkMode","blocks","setBlocks","length","activeBlockId","setActiveBlockId","showBlockMenu","setShowBlockMenu","blockMenuPosition","setBlockMenuPosition","top","left","blockMenuTargetId","setBlockMenuTargetId","blockRefs","blockMenuRef","handleClickOutside","event","current","contains","target","document","addEventListener","removeEventListener","handleBlockChange","map","block","handleBlockTypeChange","handleCheckboxToggle","addBlockAfter","index","findIndex","newBlock","newBlocks","splice","setTimeout","focus","deleteBlock","_newBlocks","_newBlocks$","filter","newActiveId","handleKeyDown","e","key","shiftKey","preventDefault","selectionStart","selectionEnd","find","b","trim","rect","getBoundingClientRect","bottom","window","scrollY","scrollX","prevBlock","value","setSelectionRange","nextBlock","renderBlock","isActive","commonProps","ref","el","onKeyDown","onFocus","className","placeholder","plusButton","onClick","children","xmlns","viewBox","fill","fillRule","d","clipRule","fileName","_jsxFileName","lineNumber","columnNumber","rows","blockMenu","style","_c","$RefreshReg$"],"sources":["D:/projects/neuralnotes/src/components/BlockEditor.js"],"sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\nimport { useTheme } from '../contexts/ThemeContext';\n\n// Block types\nconst BLOCK_TYPES = {\n  TEXT: 'text',\n  HEADING_1: 'heading_1',\n  HEADING_2: 'heading_2',\n  HEADING_3: 'heading_3',\n  BULLETED_LIST: 'bulleted_list',\n  NUMBERED_LIST: 'numbered_list',\n  TO_DO: 'to_do',\n  QUOTE: 'quote',\n  CODE: 'code',\n  DIVIDER: 'divider'\n};\n\n// Default block\nconst createDefaultBlock = (type = BLOCK_TYPES.TEXT, content = '') => ({\n  id: Date.now().toString(),\n  type,\n  content,\n  checked: false // For to-do blocks\n});\n\nconst BlockEditor = ({ initialBlocks = [], onChange }) => {\n  const { darkMode } = useTheme();\n  const [blocks, setBlocks] = useState(() => {\n    return initialBlocks.length > 0 \n      ? initialBlocks \n      : [createDefaultBlock()];\n  });\n  const [activeBlockId, setActiveBlockId] = useState(blocks[0]?.id);\n  const [showBlockMenu, setShowBlockMenu] = useState(false);\n  const [blockMenuPosition, setBlockMenuPosition] = useState({ top: 0, left: 0 });\n  const [blockMenuTargetId, setBlockMenuTargetId] = useState(null);\n  \n  const blockRefs = useRef({});\n  const blockMenuRef = useRef(null);\n  \n  // Update parent component when blocks change\n  useEffect(() => {\n    if (onChange) {\n      onChange(blocks);\n    }\n  }, [blocks, onChange]);\n  \n  // Close block menu when clicking outside\n  useEffect(() => {\n    const handleClickOutside = (event) => {\n      if (blockMenuRef.current && !blockMenuRef.current.contains(event.target)) {\n        setShowBlockMenu(false);\n      }\n    };\n    \n    document.addEventListener('mousedown', handleClickOutside);\n    return () => document.removeEventListener('mousedown', handleClickOutside);\n  }, []);\n  \n  // Handle block content change\n  const handleBlockChange = (id, content) => {\n    setBlocks(blocks.map(block => \n      block.id === id ? { ...block, content } : block\n    ));\n  };\n  \n  // Handle block type change\n  const handleBlockTypeChange = (id, type) => {\n    setBlocks(blocks.map(block => \n      block.id === id ? { ...block, type } : block\n    ));\n    setShowBlockMenu(false);\n  };\n  \n  // Handle to-do block checkbox toggle\n  const handleCheckboxToggle = (id) => {\n    setBlocks(blocks.map(block => \n      block.id === id ? { ...block, checked: !block.checked } : block\n    ));\n  };\n  \n  // Add a new block after the current one\n  const addBlockAfter = (id) => {\n    const index = blocks.findIndex(block => block.id === id);\n    if (index === -1) return;\n    \n    const newBlock = createDefaultBlock();\n    const newBlocks = [...blocks];\n    newBlocks.splice(index + 1, 0, newBlock);\n    \n    setBlocks(newBlocks);\n    setActiveBlockId(newBlock.id);\n    \n    // Focus on the new block after render\n    setTimeout(() => {\n      if (blockRefs.current[newBlock.id]) {\n        blockRefs.current[newBlock.id].focus();\n      }\n    }, 0);\n  };\n  \n  // Delete a block\n  const deleteBlock = (id) => {\n    // Don't delete if it's the only block\n    if (blocks.length <= 1) {\n      setBlocks([createDefaultBlock()]);\n      return;\n    }\n    \n    const index = blocks.findIndex(block => block.id === id);\n    if (index === -1) return;\n    \n    const newBlocks = blocks.filter(block => block.id !== id);\n    setBlocks(newBlocks);\n    \n    // Set focus to previous block or next block if deleting first block\n    const newActiveId = newBlocks[index - 1]?.id || newBlocks[0]?.id;\n    setActiveBlockId(newActiveId);\n    \n    // Focus on the new active block after render\n    setTimeout(() => {\n      if (blockRefs.current[newActiveId]) {\n        blockRefs.current[newActiveId].focus();\n      }\n    }, 0);\n  };\n  \n  // Handle key press in block\n  const handleKeyDown = (e, id, index) => {\n    // Enter to create new block\n    if (e.key === 'Enter' && !e.shiftKey) {\n      e.preventDefault();\n      addBlockAfter(id);\n    }\n    \n    // Backspace at beginning to delete block or convert to text\n    if (e.key === 'Backspace' && e.target.selectionStart === 0 && e.target.selectionEnd === 0) {\n      const block = blocks.find(b => b.id === id);\n      \n      // If block has content, convert to text block\n      if (block.type !== BLOCK_TYPES.TEXT && block.content.trim().length > 0) {\n        handleBlockTypeChange(id, BLOCK_TYPES.TEXT);\n        return;\n      }\n      \n      // If empty, delete the block\n      if (block.content.trim().length === 0) {\n        e.preventDefault();\n        deleteBlock(id);\n      }\n    }\n    \n    // Slash command to show block menu\n    if (e.key === '/' && e.target.selectionStart === 0) {\n      e.preventDefault();\n      const rect = e.target.getBoundingClientRect();\n      setBlockMenuPosition({ \n        top: rect.bottom + window.scrollY, \n        left: rect.left + window.scrollX \n      });\n      setBlockMenuTargetId(id);\n      setShowBlockMenu(true);\n    }\n    \n    // Arrow up to go to previous block\n    if (e.key === 'ArrowUp' && e.target.selectionStart === 0) {\n      e.preventDefault();\n      const prevBlock = blocks[index - 1];\n      if (prevBlock) {\n        setActiveBlockId(prevBlock.id);\n        setTimeout(() => {\n          if (blockRefs.current[prevBlock.id]) {\n            blockRefs.current[prevBlock.id].focus();\n            // Move cursor to end of previous block\n            const length = blockRefs.current[prevBlock.id].value.length;\n            blockRefs.current[prevBlock.id].setSelectionRange(length, length);\n          }\n        }, 0);\n      }\n    }\n    \n    // Arrow down to go to next block\n    if (e.key === 'ArrowDown' && e.target.selectionStart === e.target.value.length) {\n      e.preventDefault();\n      const nextBlock = blocks[index + 1];\n      if (nextBlock) {\n        setActiveBlockId(nextBlock.id);\n        setTimeout(() => {\n          if (blockRefs.current[nextBlock.id]) {\n            blockRefs.current[nextBlock.id].focus();\n            // Move cursor to beginning of next block\n            blockRefs.current[nextBlock.id].setSelectionRange(0, 0);\n          }\n        }, 0);\n      }\n    }\n  };\n  \n  // Render block based on type\n  const renderBlock = (block, index) => {\n    const isActive = block.id === activeBlockId;\n    \n    // Common props for all block inputs\n    const commonProps = {\n      ref: el => blockRefs.current[block.id] = el,\n      value: block.content,\n      onChange: (e) => handleBlockChange(block.id, e.target.value),\n      onKeyDown: (e) => handleKeyDown(e, block.id, index),\n      onFocus: () => setActiveBlockId(block.id),\n      className: `w-full outline-none resize-none overflow-hidden ${\n        darkMode ? 'bg-transparent text-gray-200' : 'bg-transparent text-gray-800'\n      } ${isActive ? 'ring-1 ring-yellow-500 ring-opacity-50' : ''}`,\n      placeholder: 'Type / for commands...'\n    };\n    \n    // Add plus button for adding new blocks\n    const plusButton = isActive && (\n      <button\n        onClick={() => {\n          const rect = blockRefs.current[block.id].getBoundingClientRect();\n          setBlockMenuPosition({ \n            top: rect.top + window.scrollY, \n            left: rect.left - 30 + window.scrollX \n          });\n          setBlockMenuTargetId(block.id);\n          setShowBlockMenu(true);\n        }}\n        className={`absolute -left-8 top-1/2 transform -translate-y-1/2 opacity-0 group-hover:opacity-100 transition-opacity ${\n          darkMode ? 'text-gray-400 hover:text-gray-200' : 'text-gray-500 hover:text-gray-700'\n        }`}\n      >\n        <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-5 w-5\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\n          <path fillRule=\"evenodd\" d=\"M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z\" clipRule=\"evenodd\" />\n        </svg>\n      </button>\n    );\n    \n    // Render different block types\n    switch (block.type) {\n      case BLOCK_TYPES.HEADING_1:\n        return (\n          <div className=\"relative group py-1\">\n            {plusButton}\n            <textarea\n              {...commonProps}\n              rows={1}\n              className={`${commonProps.className} text-3xl font-bold`}\n              placeholder=\"Heading 1\"\n            />\n          </div>\n        );\n        \n      case BLOCK_TYPES.HEADING_2:\n        return (\n          <div className=\"relative group py-1\">\n            {plusButton}\n            <textarea\n              {...commonProps}\n              rows={1}\n              className={`${commonProps.className} text-2xl font-bold`}\n              placeholder=\"Heading 2\"\n            />\n          </div>\n        );\n        \n      case BLOCK_TYPES.HEADING_3:\n        return (\n          <div className=\"relative group py-1\">\n            {plusButton}\n            <textarea\n              {...commonProps}\n              rows={1}\n              className={`${commonProps.className} text-xl font-bold`}\n              placeholder=\"Heading 3\"\n            />\n          </div>\n        );\n        \n      case BLOCK_TYPES.BULLETED_LIST:\n        return (\n          <div className=\"relative group py-1 flex\">\n            {plusButton}\n            <div className=\"flex-shrink-0 mr-2 mt-1\">•</div>\n            <textarea\n              {...commonProps}\n              rows={1}\n              placeholder=\"List item\"\n            />\n          </div>\n        );\n        \n      case BLOCK_TYPES.NUMBERED_LIST:\n        return (\n          <div className=\"relative group py-1 flex\">\n            {plusButton}\n            <div className=\"flex-shrink-0 mr-2 mt-1\">{index + 1}.</div>\n            <textarea\n              {...commonProps}\n              rows={1}\n              placeholder=\"List item\"\n            />\n          </div>\n        );\n        \n      case BLOCK_TYPES.TO_DO:\n        return (\n          <div className=\"relative group py-1 flex items-start\">\n            {plusButton}\n            <div className=\"flex-shrink-0 mr-2 mt-1\">\n              <input\n                type=\"checkbox\"\n                checked={block.checked}\n                onChange={() => handleCheckboxToggle(block.id)}\n                className=\"rounded\"\n              />\n            </div>\n            <textarea\n              {...commonProps}\n              rows={1}\n              className={`${commonProps.className} ${block.checked ? 'line-through opacity-50' : ''}`}\n              placeholder=\"To-do item\"\n            />\n          </div>\n        );\n        \n      case BLOCK_TYPES.QUOTE:\n        return (\n          <div className=\"relative group py-1\">\n            {plusButton}\n            <div className={`border-l-4 ${darkMode ? 'border-gray-600' : 'border-gray-300'} pl-3`}>\n              <textarea\n                {...commonProps}\n                rows={1}\n                className={`${commonProps.className} italic`}\n                placeholder=\"Quote\"\n              />\n            </div>\n          </div>\n        );\n        \n      case BLOCK_TYPES.CODE:\n        return (\n          <div className=\"relative group py-1\">\n            {plusButton}\n            <div className={`${darkMode ? 'bg-gray-800' : 'bg-gray-100'} p-3 rounded-md font-mono`}>\n              <textarea\n                {...commonProps}\n                rows={3}\n                placeholder=\"Code block\"\n              />\n            </div>\n          </div>\n        );\n        \n      case BLOCK_TYPES.DIVIDER:\n        return (\n          <div className=\"relative group py-4\">\n            {plusButton}\n            <hr className={darkMode ? 'border-gray-700' : 'border-gray-300'} />\n          </div>\n        );\n        \n      case BLOCK_TYPES.TEXT:\n      default:\n        return (\n          <div className=\"relative group py-1\">\n            {plusButton}\n            <textarea\n              {...commonProps}\n              rows={1}\n              placeholder=\"Type / for commands...\"\n            />\n          </div>\n        );\n    }\n  };\n  \n  // Block menu for selecting block types\n  const blockMenu = (\n    <div\n      ref={blockMenuRef}\n      className={`absolute z-50 w-64 rounded-md shadow-lg ${\n        darkMode ? 'bg-gray-800 border border-gray-700' : 'bg-white border border-gray-200'\n      }`}\n      style={{ top: blockMenuPosition.top, left: blockMenuPosition.left }}\n    >\n      <div className=\"p-2\">\n        <div className={`text-sm font-medium mb-1 ${darkMode ? 'text-gray-400' : 'text-gray-500'}`}>\n          Basic blocks\n        </div>\n        <div className=\"grid grid-cols-2 gap-1\">\n          <button\n            onClick={() => handleBlockTypeChange(blockMenuTargetId, BLOCK_TYPES.TEXT)}\n            className={`flex items-center p-2 rounded-md text-left ${\n              darkMode ? 'hover:bg-gray-700' : 'hover:bg-gray-100'\n            }`}\n          >\n            <span className=\"mr-2\">📝</span>\n            <span>Text</span>\n          </button>\n          <button\n            onClick={() => handleBlockTypeChange(blockMenuTargetId, BLOCK_TYPES.HEADING_1)}\n            className={`flex items-center p-2 rounded-md text-left ${\n              darkMode ? 'hover:bg-gray-700' : 'hover:bg-gray-100'\n            }`}\n          >\n            <span className=\"mr-2\">H1</span>\n            <span>Heading 1</span>\n          </button>\n          <button\n            onClick={() => handleBlockTypeChange(blockMenuTargetId, BLOCK_TYPES.HEADING_2)}\n            className={`flex items-center p-2 rounded-md text-left ${\n              darkMode ? 'hover:bg-gray-700' : 'hover:bg-gray-100'\n            }`}\n          >\n            <span className=\"mr-2\">H2</span>\n            <span>Heading 2</span>\n          </button>\n          <button\n            onClick={() => handleBlockTypeChange(blockMenuTargetId, BLOCK_TYPES.HEADING_3)}\n            className={`flex items-center p-2 rounded-md text-left ${\n              darkMode ? 'hover:bg-gray-700' : 'hover:bg-gray-100'\n            }`}\n          >\n            <span className=\"mr-2\">H3</span>\n            <span>Heading 3</span>\n          </button>\n        </div>\n        \n        <div className={`text-sm font-medium mt-3 mb-1 ${darkMode ? 'text-gray-400' : 'text-gray-500'}`}>\n          Lists\n        </div>\n        <div className=\"grid grid-cols-2 gap-1\">\n          <button\n            onClick={() => handleBlockTypeChange(blockMenuTargetId, BLOCK_TYPES.BULLETED_LIST)}\n            className={`flex items-center p-2 rounded-md text-left ${\n              darkMode ? 'hover:bg-gray-700' : 'hover:bg-gray-100'\n            }`}\n          >\n            <span className=\"mr-2\">•</span>\n            <span>Bullet List</span>\n          </button>\n          <button\n            onClick={() => handleBlockTypeChange(blockMenuTargetId, BLOCK_TYPES.NUMBERED_LIST)}\n            className={`flex items-center p-2 rounded-md text-left ${\n              darkMode ? 'hover:bg-gray-700' : 'hover:bg-gray-100'\n            }`}\n          >\n            <span className=\"mr-2\">1.</span>\n            <span>Numbered List</span>\n          </button>\n          <button\n            onClick={() => handleBlockTypeChange(blockMenuTargetId, BLOCK_TYPES.TO_DO)}\n            className={`flex items-center p-2 rounded-md text-left ${\n              darkMode ? 'hover:bg-gray-700' : 'hover:bg-gray-100'\n            }`}\n          >\n            <span className=\"mr-2\">☑️</span>\n            <span>To-do List</span>\n          </button>\n        </div>\n        \n        <div className={`text-sm font-medium mt-3 mb-1 ${darkMode ? 'text-gray-400' : 'text-gray-500'}`}>\n          Other\n        </div>\n        <div className=\"grid grid-cols-2 gap-1\">\n          <button\n            onClick={() => handleBlockTypeChange(blockMenuTargetId, BLOCK_TYPES.QUOTE)}\n            className={`flex items-center p-2 rounded-md text-left ${\n              darkMode ? 'hover:bg-gray-700' : 'hover:bg-gray-100'\n            }`}\n          >\n            <span className=\"mr-2\">❝</span>\n            <span>Quote</span>\n          </button>\n          <button\n            onClick={() => handleBlockTypeChange(blockMenuTargetId, BLOCK_TYPES.CODE)}\n            className={`flex items-center p-2 rounded-md text-left ${\n              darkMode ? 'hover:bg-gray-700' : 'hover:bg-gray-100'\n            }`}\n          >\n            <span className=\"mr-2\">&lt;/&gt;</span>\n            <span>Code</span>\n          </button>\n          <button\n            onClick={() => handleBlockTypeChange(blockMenuTargetId, BLOCK_TYPES.DIVIDER)}\n            className={`flex items-center p-2 rounded-md text-left ${\n              darkMode ? 'hover:bg-gray-700' : 'hover:bg-gray-100'\n            }`}\n          >\n            <span className=\"mr-2\">—</span>\n            <span>Divider</span>\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n  \n  return (\n    <div className=\"w-full\">\n      {blocks.map((block, index) => (\n        <div key={block.id} className=\"mb-1\">\n          {renderBlock(block, index)}\n        </div>\n      ))}\n      \n      {showBlockMenu && blockMenu}\n    </div>\n  );\n};\n\nexport default BlockEditor;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}